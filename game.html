<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jingle Pong</title>

<style>
    body {
        margin: 0;
        background: url("Images/christmas3.jpg"); /* subtle snow bg */
        background-size: 100%;
        background-repeat: no-repeat;
        overflow: hidden;
        font-family: "Trebuchet MS", sans-serif;
    }

    h1 {
        text-align: center;
        color: #fff;
        font-size: 4rem;
        text-shadow: 0 3px 6px rgba(0,0,0,0.5);
        margin-top: 15px;
        font-family: Brush Script MT, Brush Script Std, cursive;
    }

    #gameCanvas {
        display: block;
        margin: 20px auto;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(4px);
        border: 4px solid #b30000;
        border-radius: 10px;
        box-shadow: 0 0 25px rgba(0,0,0,0.4);
    }

    #score {
        text-align: center;
        color: white;
        margin-top: -10px;
        font-size: 2rem;
        font-weight: bold;
        text-shadow: 0 2px 5px black;
    }
</style>
</head>

<body>

<h1>ðŸŽ„ Jingle Pong ðŸŽ…</h1>
<div id="score">0 : 0</div>

<canvas id="gameCanvas" width="800" height="500"></canvas>

<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    // Game Objects
    const paddleHeight = 100;
    const paddleWidth = 15;

    let leftPaddle = { x: 20, y: canvas.height/2 - paddleHeight/2, speed: 6 };
    let rightPaddle = { x: canvas.width - 35, y: canvas.height/2 - paddleHeight/2, speed: 6 };

    // Ornament Ball
    let ball = {
        x: canvas.width/2,
        y: canvas.height/2,
        size: 14,
        dx: 5,
        dy: 4
    };

    let leftScore = 0;
    let rightScore = 0;

    // Keyboard Input
    let keys = {};

    document.addEventListener("keydown", e => keys[e.key] = true);
    document.addEventListener("keyup", e => keys[e.key] = false);

    function drawPaddles() {
        // Left (Green)
        ctx.fillStyle = "#0f8a0f";
        ctx.fillRect(leftPaddle.x, leftPaddle.y, paddleWidth, paddleHeight);

        // Right (Red)
        ctx.fillStyle = "#cc0000";
        ctx.fillRect(rightPaddle.x, rightPaddle.y, paddleWidth, paddleHeight);
    }

    function drawBall() {
        ctx.beginPath();
        ctx.fillStyle = "#ffdf00"; // golden ornament
        ctx.arc(ball.x, ball.y, ball.size, 0, Math.PI * 2);
        ctx.fill();

        // Ornament hook
        ctx.strokeStyle = "black";
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(ball.x, ball.y - ball.size);
        ctx.lineTo(ball.x, ball.y - ball.size - 10);
        ctx.stroke();
    }

    function movePaddles() {
        // W / S for left paddle
        if (keys["w"]) leftPaddle.y -= leftPaddle.speed;
        if (keys["s"]) leftPaddle.y += leftPaddle.speed;

        // Arrow keys for right paddle
        if (keys["ArrowUp"]) rightPaddle.y -= rightPaddle.speed;
        if (keys["ArrowDown"]) rightPaddle.y += rightPaddle.speed;

        // Prevent leaving screen
        leftPaddle.y = Math.max(0, Math.min(canvas.height - paddleHeight, leftPaddle.y));
        rightPaddle.y = Math.max(0, Math.min(canvas.height - paddleHeight, rightPaddle.y));
    }

    function moveBall() {
        ball.x += ball.dx;
        ball.y += ball.dy;

        // Bounce top/bottom
        if (ball.y - ball.size < 0 || ball.y + ball.size > canvas.height) {
            ball.dy *= -1;
        }

        // Left paddle collision
        if (ball.x - ball.size <= leftPaddle.x + paddleWidth &&
            ball.y > leftPaddle.y &&
            ball.y < leftPaddle.y + paddleHeight) {
            ball.dx *= -1;
            ball.x = leftPaddle.x + paddleWidth + ball.size; // prevent sticking
        }

        // Right paddle collision
        if (ball.x + ball.size >= rightPaddle.x &&
            ball.y > rightPaddle.y &&
            ball.y < rightPaddle.y + paddleHeight) {
            ball.dx *= -1;
            ball.x = rightPaddle.x - ball.size; // prevent sticking
        }

        // Score left
        if (ball.x - ball.size <= 0) {
            rightScore++;
            resetBall();
        }

        // Score right
        if (ball.x + ball.size >= canvas.width) {
            leftScore++;
            resetBall();
        }

        document.getElementById("score").textContent = `${leftScore} : ${rightScore}`;
    }

    function resetBall() {
        ball.x = canvas.width/2;
        ball.y = canvas.height/2;
        ball.dx *= -1; // serve toward scorer
    }

    function drawSnowflakes() {
        // Optional: simple snowfall particles
        for (let i=0; i<60; i++) {
            ctx.fillStyle = "rgba(255,255,255,0.2)";
            ctx.beginPath();
            ctx.arc(Math.random()*canvas.width, Math.random()*canvas.height, Math.random()*3, 0, Math.PI*2);
            ctx.fill();
        }
    }

    function gameLoop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        drawSnowflakes();
        drawPaddles();
        drawBall();
        movePaddles();
        moveBall();

        requestAnimationFrame(gameLoop);
    }

    gameLoop();
</script>

</body>
</html>
